/* ===== END TURN SEAL - Bottom Left ===== */

/* Intro animation: Seal stamps down with authority
   Disney principles: anticipation (scale up), overshoot, settle */
@keyframes seal-stamp {
  0% {
    opacity: 0;
    transform: scale(0) rotate(-15deg);
  }
  /* Anticipation - seal appears and overshoots */
  50% {
    opacity: 1;
    transform: scale(1.15) rotate(5deg);
  }
  /* Slight undershoot */
  75% {
    transform: scale(0.95) rotate(-2deg);
  }
  /* Settle into place */
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

.end-turn-seal {
  position: fixed;
  bottom: 1rem;
  left: 1rem;
  z-index: 60;

  /* Circular seal shape */
  width: clamp(80px, 10vh, 140px);
  height: clamp(80px, 10vh, 140px);
  border-radius: 50%;

  /* Medieval seal aesthetic */
  background: radial-gradient(circle at 30% 30%, #8b6914, #5c4a0f 60%, #3d3108);
  border: 4px solid #a67c00;
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.5),
    inset 0 2px 10px rgba(255, 215, 0, 0.2),
    0 0 0 2px #2a2a2a;

  /* Layout */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;

  cursor: pointer;
  transition: all 0.2s ease;
}

/* Hidden during intro - before ui-settle phase */
/* Use higher specificity to override :disabled state */
.end-turn-seal.end-turn-seal--intro-hidden {
  opacity: 0;
  pointer-events: none;
}

/* Animate in during ui-settle phase */
.end-turn-seal--intro-reveal {
  animation: seal-stamp 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.end-turn-seal:not(:disabled):hover {
  transform: scale(1.08);
  box-shadow:
    0 6px 25px rgba(0, 0, 0, 0.6),
    inset 0 2px 15px rgba(255, 215, 0, 0.3),
    0 0 20px rgba(166, 124, 0, 0.4),
    0 0 0 2px #2a2a2a;
  border-color: #c9a227;
}

.end-turn-seal:not(:disabled):active {
  transform: scale(0.95);
}

.end-turn-seal:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  filter: grayscale(50%);
}

.end-turn-seal__icon {
  font-size: clamp(1.5rem, 3vh, 2.5rem);
  color: #f4d03f;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.end-turn-seal__text {
  font-size: clamp(0.6rem, 1.2vh, 0.9rem);
  font-weight: 700;
  color: #f4d03f;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

/* ===== OTHER TURN ACTIONS - Right Side ===== */
.turn-actions {
  position: fixed;
  bottom: 240px;
  right: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 60;
}

.turn-actions__btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.turn-actions__btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.turn-actions__btn--undo {
  background: rgba(50, 50, 70, 0.9);
  color: #fff;
  font-size: 1.25rem;
  padding: 0.5rem 0.75rem;
}

.turn-actions__btn--undo:not(:disabled):hover {
  background: rgba(70, 70, 100, 0.9);
  transform: translateX(-2px);
}

.turn-actions__btn--tactic {
  background: linear-gradient(135deg, #f39c12, #e67e22);
  color: #fff;
}

.turn-actions__btn--tactic:hover {
  background: linear-gradient(135deg, #e67e22, #d35400);
  transform: translateX(-2px);
}

.turn-actions__btn--tactic-dark {
  background: linear-gradient(135deg, #8e44ad, #9b59b6);
  color: #fff;
}

.turn-actions__btn--tactic-dark:hover {
  background: linear-gradient(135deg, #9b59b6, #a569bd);
  transform: translateX(-2px);
}
