/**
 * PieMenu - Parchment/Fantasy styled radial menu
 *
 * Design principles:
 * - Aged parchment background with warm browns
 * - Ornate borders and subtle textures
 * - Clear visual states (hover, disabled)
 * - Satisfying micro-animations
 */

.pie-menu {
  position: relative;
  user-select: none;
  /* Entry animation */
  animation: pie-menu-appear 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes pie-menu-appear {
  from {
    opacity: 0;
    transform: scale(0.85) rotate(-5deg);
  }
  to {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

.pie-menu__svg {
  width: 100%;
  height: 100%;
  /* Parchment-style drop shadow */
  filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5))
          drop-shadow(0 0 40px rgba(30, 20, 10, 0.3));
}

/* ============================================
   Wedge segments - parchment style
   ============================================ */
.pie-menu__wedge {
  fill: var(--wedge-color, rgba(55, 45, 35, 0.95));
  stroke: rgba(92, 74, 58, 0.8);
  stroke-width: 2;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  /* Subtle inner shadow effect via gradient */
  filter: brightness(1);
}

.pie-menu__wedge:hover,
.pie-menu__wedge--hovered {
  fill: var(--wedge-hover-color, rgba(75, 60, 45, 0.98));
  stroke: rgba(180, 150, 100, 0.9);
  stroke-width: 2.5;
  filter: brightness(1.15);
  /* Slight "pop" on hover */
  transform: scale(1.02);
  transform-origin: center;
}

.pie-menu__wedge--disabled {
  fill: rgba(35, 30, 25, 0.6);
  stroke: rgba(60, 50, 40, 0.4);
  stroke-width: 1;
  cursor: not-allowed;
  filter: brightness(0.7) saturate(0.5);
}

.pie-menu__label-group--disabled {
  opacity: 0.35;
}

/* ============================================
   Center circle - ornate cancel zone
   ============================================ */
.pie-menu__center {
  fill: rgba(35, 28, 22, 0.95);
  stroke: rgba(92, 74, 58, 0.9);
  stroke-width: 3;
  cursor: pointer;
  transition: all 0.2s ease;
}

.pie-menu__center:hover {
  fill: rgba(80, 45, 40, 0.95);
  stroke: rgba(180, 100, 80, 0.8);
}

/* ============================================
   Labels - medieval/fantasy typography
   ============================================ */
.pie-menu__icon {
  font-size: 22px;
  fill: #f0e6d2;
  opacity: 0.95;
  /* Subtle text shadow for readability */
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
}

.pie-menu__label {
  font-size: 15px;
  font-weight: 700;
  fill: #f0e6d2;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  /* Text shadow for parchment feel */
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.6));
}

.pie-menu__sublabel {
  font-size: 11px;
  font-weight: 500;
  fill: rgba(212, 196, 168, 0.8);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.4));
}

/* Hovered state - brighter labels */
.pie-menu__label-group--hovered .pie-menu__icon {
  fill: #fff;
  filter: drop-shadow(0 0 8px rgba(255, 200, 100, 0.5))
          drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
}

.pie-menu__label-group--hovered .pie-menu__label {
  fill: #fff;
  filter: drop-shadow(0 0 6px rgba(255, 200, 100, 0.4))
          drop-shadow(0 1px 2px rgba(0, 0, 0, 0.6));
}

.pie-menu__label-group--hovered .pie-menu__sublabel {
  fill: rgba(255, 240, 200, 0.95);
}

/* ============================================
   Center content overlay
   ============================================ */
.pie-menu__center-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #d4c4a8;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  opacity: 0.8;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  transition: all 0.2s ease;
}

/* Hover effect on center */
.pie-menu__center:hover + .pie-menu__center-content,
.pie-menu:has(.pie-menu__center:hover) .pie-menu__center-content {
  color: #f0d0c0;
  opacity: 1;
}

/* ============================================
   Wedge color variants - action types
   ============================================ */

/* Basic action - neutral warm brown */
.pie-menu__wedge--basic {
  --wedge-color: rgba(60, 50, 40, 0.95);
  --wedge-hover-color: rgba(85, 70, 55, 0.98);
}

/* Powered action - rich purple/gold */
.pie-menu__wedge--powered {
  --wedge-color: rgba(70, 50, 80, 0.95);
  --wedge-hover-color: rgba(95, 70, 110, 0.98);
}

/* Sideways action - muted blue/teal */
.pie-menu__wedge--sideways {
  --wedge-color: rgba(45, 60, 75, 0.95);
  --wedge-hover-color: rgba(60, 80, 100, 0.98);
}

/* ============================================
   Mana color variants
   ============================================ */

/* Red mana */
.pie-menu__wedge--red {
  --wedge-color: rgba(110, 45, 40, 0.95);
  --wedge-hover-color: rgba(140, 60, 50, 0.98);
}
.pie-menu__wedge--red:hover,
.pie-menu__wedge--red.pie-menu__wedge--hovered {
  stroke: rgba(231, 100, 80, 0.9);
}

/* Blue mana */
.pie-menu__wedge--blue {
  --wedge-color: rgba(40, 65, 100, 0.95);
  --wedge-hover-color: rgba(50, 85, 130, 0.98);
}
.pie-menu__wedge--blue:hover,
.pie-menu__wedge--blue.pie-menu__wedge--hovered {
  stroke: rgba(80, 150, 220, 0.9);
}

/* Green mana */
.pie-menu__wedge--green {
  --wedge-color: rgba(40, 80, 55, 0.95);
  --wedge-hover-color: rgba(50, 105, 70, 0.98);
}
.pie-menu__wedge--green:hover,
.pie-menu__wedge--green.pie-menu__wedge--hovered {
  stroke: rgba(80, 200, 120, 0.9);
}

/* White mana */
.pie-menu__wedge--white {
  --wedge-color: rgba(85, 85, 90, 0.95);
  --wedge-hover-color: rgba(115, 115, 120, 0.98);
}
.pie-menu__wedge--white:hover,
.pie-menu__wedge--white.pie-menu__wedge--hovered {
  stroke: rgba(240, 240, 245, 0.9);
}

/* Gold mana */
.pie-menu__wedge--gold {
  --wedge-color: rgba(100, 85, 40, 0.95);
  --wedge-hover-color: rgba(130, 110, 50, 0.98);
}
.pie-menu__wedge--gold:hover,
.pie-menu__wedge--gold.pie-menu__wedge--hovered {
  stroke: rgba(241, 196, 50, 0.9);
}

/* Black mana */
.pie-menu__wedge--black {
  --wedge-color: rgba(40, 40, 50, 0.95);
  --wedge-hover-color: rgba(55, 55, 70, 0.98);
}
.pie-menu__wedge--black:hover,
.pie-menu__wedge--black.pie-menu__wedge--hovered {
  stroke: rgba(140, 140, 160, 0.9);
}

/* ============================================
   Parchment texture overlay (via pseudo-element)
   ============================================ */
.pie-menu::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.02;
  pointer-events: none;
  border-radius: 50%;
  mix-blend-mode: overlay;
}
